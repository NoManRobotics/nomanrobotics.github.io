---
layout: page
title:
permalink: "/techsupport/"
comments: false
---

<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125">

<div class="techsupport-container">
    <!-- 添加导航切换按钮 -->
    <button class="nav-toggle d-md-none">菜单</button>

    <!-- Sidebar Navigation -->
    <div class="idocs-navigation bg-light">
        <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link active" href="#item_1">Carbonara</a>
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#item_1_1">用户手册</a></li>
                    <li class="nav-item"><a class="nav-link" href="#item_1_2">软件下载</a></li>
                    <li class="nav-item"><a class="nav-link" href="#item_1_3">ROS</a></li>
                </ul>
            </li>
            <li class="nav-item"><a class="nav-link" href="#item_2">Item 2</a>
                <ul class="nav flex-column">
                    <li class="nav-item"><a class="nav-link" href="#item_2_1">Sub Item 2.1</a></li>
                    <li class="nav-item"><a class="nav-link" href="#item_2_2">Sub Item 2.2</a></li>
                </ul>
            </li>
            <li class="nav-item"><a class="nav-link" href="#item_3">Change Log</a></li>
        </ul>
    </div>
  
    <!-- Docs Content -->
    <div class="idocs-content">
        <div class="container"> 
            <!-- Item 1 -->
            <section id="item_1">
                <h1>Carbonara</h1>
                <p>Carbonara是一款五轴舵机机械臂,它的制造相对于工业机械臂来说成本较低。但是作为教育级用途,它能够快速上手并让大家了解机械臂的完整工作流程。</p>
                <p>本页面将指导您完成从环境准备到实际操作Carbonara的各项流程。</p>
                <h4>快速导航：</h4>
                <ul>
                    <li><a href="#item_1_1">用户手册</a></li>
                    <li><a href="#item_1_2">软件下载</a></li>
                    <li><a href="#item_1_3">ROS配置指南</a></li>
            </section>
            <hr class="divider">
      
            <!-- Item 1.1 -->
            <section id="item_1_1">
                <h3>用户手册</h3>
                <p>这里是用户手册的内容...</p>
            </section>
            <hr class="divider">
      
            <!-- Item 1.2 -->
            <section id="item_1_2">
                <h3>软件下载</h3>
                <p>这里是软件下载的链接和说明...</p>
            </section>
            <hr class="divider">

            <!-- Item 1.3 -->
            <section id="item_1_3">
                <h3>ROS</h3>
                <h3>Step 1: 准备您的环境</h3>
                <p>ROS版本对应固定的Ubuntu版本。本机械臂在Ubuntu 20.04 LTS环境下使用ROS noetic开发,以下说明和教程安装均在ROS noetic下完成。您可以在虚拟机(VirtualBox, Vmware Workstation Pro等)或者物理Ubuntu系统下安装<a href="https://releases.ubuntu.com/focal/" target="_blank" style="text-decoration: underline;">镜像文件</a>。</p>
                <p>通常情况下,安装物理的Ubuntu系统是更好的选择,因为在虚拟机中,3D加速和USB设备的支持会受到限制。</p>
                <p><strong>注意：</strong>您可以在树莓派上安装ROS,但不幸的是,它的性能不足以运行Rviz中的模拟,更不用说Gazebo了。</p>
                
                <ol>
                    <li>配置ROS环境。请按照<a href="https://github.com/NoManRobotics/RPL-Scripts" target="_blank" style="text-decoration: underline;">这个快速安装指南</a>在对应Ubuntu版本上安装ROS。您需要依照每一步骤在终端下完成安装。</li>
                    <li>MoveIt!是ROS中用于移动操作的软件包。检查MoveIt!是否正常工作。运行以下命令：
                        <pre><code>roslaunch panda_moveit_config demo.launch rviz_tutorial:=true</code></pre>
                        如果您愿意,可以按照MoveIt<a href="https://docs.ros.org/en/kinetic/api/moveit_tutorials/html/doc/quickstart_in_rviz/quickstart_in_rviz_tutorial.html" target="_blank" style="text-decoration: underline;">基础教程</a>进行操作。
                    </li>
                </ol>

                <p>然后,您可以直接下载我们预处理完成的<a href="https://github.com/NoManRobotics" target="_blank" style="text-decoration: underline;">ROS workspace</a>,其中包括URDF文件和Moveit!配置包。如果想深入了解ROS机械臂配置过程,可以根据以下两步指南进行手动配置。</p>

                <h3>Step 2: Unified Robot Description Format (URDF)</h3>
                <p>我们已经为您准备好了Carbonara的统一机器人描述格式文件。您可以从我们的GitHub仓库下载这个<a href="https://github.com/NoManRobotics" target="_blank" style="text-decoration: underline;">URDF文件</a>。</p>
                <p>我们将简要介绍URDF文件的结构和内容,以帮助您更好地理解它,并在将来编写自己的URDF文件时作为参考。</p>

                <h4>连接(Links)</h4>
                <p>连接是机器人的各个部分，如手腕或平台。它们具有以下属性：</p>
                <ul>
                    <li>用于在Rviz和Gazebo中进行视觉表示。使用高质量的网格模型。</li>
                    <li>用于路径规划期间的碰撞检查。建议使用低质量的网格模型，但为了教程的目的，我们使用与视觉相同的模型。</li>
                </ul>

                <h4>关节(Joints)</h4>
                <p>URDF中的关节是链接之间的连接,描述了它们之间的相对位置和运动方式。它们具有以下属性：</p>
                <ul>
                    <li>关节的旋转方向(沿x、y或z轴)</li>
                    <li>关节的最小和最大角度（以弧度为单位）。仅适用于"revolute"类型的关节（"continuous"类型的关节没有限制，因为它们可以连续旋转）</li>
                    <li>关节相对于原点的位置</li>
                    <li>描述哪两个链接通过该关节连接</li>
                </ul>

                <h4>使用3D网格模型</h4>
                <p>如果您使用的是与我相同的机械臂,您需要将机械臂的3D网格模型复制到urdf_tutorial包文件夹中。使用以下命令:</p>
                <pre><code>sudo cp &lt;要复制的文件名&gt; /opt/ros/kinetic/share/urdf_tutorial/meshes/</code></pre>
                <p>如果您使用自己的网格模型,请确保在将它们导出为二进制STL格式之前,它们在3D建模软件中以原点(xyz 000)为中心。</p>

                <h4>在Rviz中可视化结果</h4>
                <p>现在您可以启动Rviz来可视化结果,使用以下命令:</p>
                <pre><code>&gt;roslaunch urdf_tutorial display.launch model:=arm.urdf</code></pre>
                <p>(从您刚刚创建的URDF文件所在的文件夹中启动)</p>

                <p>检查关节和链接，确保它们的旋转和位置完全符合预期。如果一切正常，请继续下一步。</p>

                <h3>Step 3: 使用MoveIt Setup Assistant创建机器人配置</h3>
                <p>现在您的URDF文件已经准备好了,是时候将它转换为机器人配置包了。</p>

                <p>使用以下命令启动MoveIt Setup Assistant:</p>
                <pre><code>&gt;roslaunch moveit_setup_assistant setup_assistant.launch</code></pre>

                <p>这个过程在MoveIt官方教程中有非常详细的描述:您可以在<a href="https://docs.ros.org/en/kinetic/api/moveit_tutorials/html/doc/setup_assistant/setup_assistant_tutorial.html" target="_blank" style="text-decoration: underline;">这里</a>找到。</p>

                <p>创建配置包后:进入您的catkin工作空间文件夹并执行以下命令来构建包:</p>
                <pre><code>&gt;catkin make
&gt;source devel/setup.bash</code></pre>

                <p>现在您可以使用以下命令启动它：</p>
                <pre><code>&gt;roslaunch my_arm_xacro demo.launch rviz_tutorial:=true</code></pre>

                <p>其中，您需要将"my_arm_xacro"更改为您的包的名称。</p>

                <h3>Step 4: 连接控制板至ROS</h3>
                <p>在我们的案例中,ESP32运行一个带有rosserial的ROS节点将作为机器人控制器。ESP32的代码附加在此步骤中,也可以在GitHub上获取。</p>

                <p>在ESP32上运行的ROS节点基本上订阅了在运行MoveIt的计算机上发布的/JointState主题,然后将数组中的关节角度从弧度转换为度,并使用ESP32的PWM功能将它们传递给伺服电机。</p>

                <p>这不是工业机器人的标准做法。理想情况下，您应该在/FollowJointState主题上发布运动轨迹,然后在/JointState主题上接收反馈。但在我们的机械臂中,舵机无法提供反馈,所以我们将直接订阅由FakeRobotController节点发布的/JointState主题。我们假设传递给电机的任何角度没有任何误差。</p>

                <p>有关rosserial如何工作的更多信息,您可以参考以下教程：</p>
                <p><a href="http://wiki.ros.org/rosserial_arduino/Tutorials" target="_blank" style="text-decoration: underline;">http://wiki.ros.org/rosserial_arduino/Tutorials</a></p>

                <p>将代码上传到ESP32后,您需要使用USB或Wi-Fi将其连接到运行ROS安装的计算机。</p>

                <p>使用USB连接至机械臂后,执行以下命令以进行串口通讯:</p>
                <pre><code>&gt;roslaunch my_arm_xacro demo.launch rviz_tutorial:=true
&gt;sudo chmod -R 777 /dev/ttyUSB0
&gt;rosrun rosserial_python serial_node.py _port:=/dev/ttyUSB0 _baud:=115200 
</code></pre>

                <p>现在,您可以使用RVIZ中的交互式标记将机器人手臂移动到某个姿势,然后按下"Plan"和"Execute"，使其实际移动到该位置。</p>

            </section>
            <hr class="divider">
      
            <!-- Item 2 -->
            <section id="item_2">
                <h3>Item 2</h3>
                <p>这里是Item 2的内容...</p>
            </section>
            <hr class="divider">
      
            <!-- Item 2.1 -->
            <section id="item_2_1">
                <h3>Item 2.1</h3>
                <p>这里是Item 2.1的内容...</p>
            </section>
            <hr class="divider">
      
            <!-- Item 2.2 -->
            <section id="item_2_2">
                <h3>Item 2.2</h3>
                <p>这里是Item 2.2的内容...</p>
            </section>
            <hr class="divider">

            <section id="item_3">
                <h3>Change Log</h3>
                <p>这里是Change Log的内容...</p>
            </section>
            <hr class="divider">
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    // 添加导航切换功能
    document.querySelector('.nav-toggle').addEventListener('click', function() {
        document.querySelector('.idocs-navigation').classList.toggle('active');
    });

    // 点击内容区域时关闭导航栏（在移动设备上）
    document.querySelector('.idocs-content').addEventListener('click', function() {
        if (window.innerWidth <= 767) {
            document.querySelector('.idocs-navigation').classList.remove('active');
        }
    });

    // 激活滚动监听
    $('body').scrollspy({ target: '.idocs-navigation' });
</script>
</body>
</html>